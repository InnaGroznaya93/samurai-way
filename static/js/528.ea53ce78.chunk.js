"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[528],{8528:function(t,s,e){e.r(s),e.d(s,{default:function(){return A}});var n=e(5671),r=e(3144),i=e(136),o=e(5716),u=e(2791),a="ProfileInfo_descriptionBlock__FuPwT",l=e(4374),d=e(885),c=e(184),p=function(t){var s=(0,u.useState)(!1),e=(0,d.Z)(s,2),n=e[0],r=e[1],i=(0,u.useState)(t.status),o=(0,d.Z)(i,2),a=o[0],l=o[1];(0,u.useEffect)((function(){l(t.status)}),[t.status]);return(0,c.jsxs)("div",{children:[!n&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onDoubleClick:function(){r(!0)},children:a||t.status||"----"})}),n&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatusTC(a)},value:a})})]})},f=function(t){var s=t.profile,e=t.status,n=t.updateStatusTC;return t.profile?(console.log(t.status),(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:a,children:[(0,c.jsx)("img",{src:s.photos.large}),(0,c.jsx)(p,{status:e,updateStatusTC:n})]})})):(0,c.jsx)(l.Z,{})},h=e(81),j=e(1413),x="MyPosts_postsBlock__d2dc2",v="MyPosts_posts__5Qse7",m="Post_item__2p4N0",P=function(t){return(0,c.jsxs)("div",{className:m,children:[(0,c.jsx)("img",{src:"https://avatars.mds.yandex.net/i?id=a4e67ec8966163d185ea5a5b908a9fc8_l-5236752-images-thumbs&n=13"}),t.message,(0,c.jsx)("div",{children:(0,c.jsxs)("span",{children:["like ",t.likesCount]})})]})},g=e(5705),C=u.memo((function(t){var s=t.postsData.map((function(t){return(0,c.jsx)(P,{message:t.message,likesCount:t.likesCount})}));(0,u.useRef)(null);return(0,c.jsxs)("div",{className:x,children:[(0,c.jsx)("h3",{children:"My posts"}),(0,c.jsx)("div",{children:(0,c.jsx)(y,{addPost:t.addPost})}),(0,c.jsx)("div",{className:v,children:s})]})})),y=function(t){var s=(0,g.TA)({initialValues:{newPost:""},validate:function(t){var s={};return t.newPost||(s.newPost="enter your post text"),s},onSubmit:function(e){console.log(e),t.addPost(e.newPost),s.resetForm()}});return(0,c.jsxs)("div",{children:[(0,c.jsxs)("form",{action:"",onSubmit:s.handleSubmit,children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("textarea",(0,j.Z)({},s.getFieldProps("newPost"))),s.touched.newPost&&s.errors.newPost&&(0,c.jsx)("div",{style:{color:"red",margin:"5px"},children:s.errors.newPost})]}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{type:"submit",disabled:!!s.errors.newPost,children:"Add new post"})})]}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{children:"Remove post"})})]})},b=C,w=e(364),S=(0,w.$j)((function(t){return{postsData:t.profilePage.postsData}}),(function(t){return{addPost:function(s){t((0,h.Wl)(s))}}}))(b),_=function(t){return(0,c.jsxs)("div",{children:[(0,c.jsx)(f,{profile:t.profile,status:t.status,updateStatusTC:t.updateStatusTC}),(0,c.jsx)(S,{})]})},T=e(9271),k=e(7781),Z=e(5571),O=function(t){(0,i.Z)(e,t);var s=(0,o.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,r.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=""+this.props.id)||this.props.history.push("/login"),this.props.getUserProfileTC(t),this.props.getStatusTC(t)}},{key:"render",value:function(){return(0,c.jsx)("div",{children:(0,c.jsx)(_,{profile:this.props.profile,status:this.props.status,updateStatusTC:this.props.updateStatusTC})})}}]),e}(u.Component),A=(0,k.qC)((0,w.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,id:t.auth.data.id}}),{getUserProfileTC:h.d$,getStatusTC:h.GP,updateStatusTC:h.OG}),T.EN,Z.e)(O)},5571:function(t,s,e){e.d(s,{e:function(){return d}});var n=e(1413),r=e(3366);e(2791);var i=e(9271),o=e(364),u=e(184),a=["isAuth"],l=function(t){return{isAuth:t.auth.isAuth}};function d(t){return(0,o.$j)(l)((function(s){var e=s.isAuth,o=function(t,s){if(null==t)return{};var e,n,i=(0,r.Z)(t,s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)e=o[n],s.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(i[e]=t[e])}return i}(s,a);return e?(0,u.jsx)(t,(0,n.Z)({},o)):(0,u.jsx)(i.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=528.ea53ce78.chunk.js.map